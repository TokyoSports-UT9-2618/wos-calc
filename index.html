<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ホワサバ集結計算機 Ver1.7</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
</head>

<body>

    <div class="container">
        <div class="lang-switch" onclick="toggleLang()">[JP] / [EN]</div>
        <h1 data-i18n="title">集結時間計算機</h1>

        <div class="card" id="leaders-container">
        </div>
        <button class="add-btn" onclick="addLeaderRow()" data-i18n="addReader">＋ リーダー追加</button>

        <div class="card">
            <div class="section-label" data-i18n="rallyTime">集結時間</div>
            <div class="rally-options">
                <button class="rally-btn" onclick="selectRally(0, this)" data-i18n="rallySolo">単騎</button>
                <button class="rally-btn active" onclick="selectRally(1, this)" data-i18n="rally1m">1分集結</button>
                <button class="rally-btn" onclick="selectRally(5, this)" data-i18n="rally5m">5分集結</button>
                <button class="rally-btn" onclick="selectRally(10, this)" data-i18n="rally10m">10分集結</button>
            </div>
        </div>

        <div class="card">
            <div class="section-title" data-i18n="calcFromTarget">① 着弾時間から計算</div>
            <div class="calc-area">
                <input type="text" id="targetTime" class="time-input" placeholder="例 18:45:00">
                <button class="action-btn" onclick="calcFromTarget()" data-i18n="calcAndCopy">計算＆コピー</button>
            </div>
        </div>

        <div class="card">
            <div class="section-title--lg" data-i18n="calcFromDelay">② ○秒後スタートで計算</div>
            <div class="delay-options">
                <button class="delay-btn" onclick="calcFromDelay(30)" data-i18n="delay30s">30秒後</button>
                <button class="delay-btn" onclick="calcFromDelay(60)" data-i18n="delay60s">60秒後</button>
                <button class="delay-btn" onclick="calcFromDelay(90)" data-i18n="delay90s">90秒後</button>
            </div>
        </div>

        <div class="card">
            <div class="section-title" data-i18n="customMsgLabel">カスタムメッセージ（任意）</div>
            <textarea id="customMessage" placeholder="追加メッセージ（任意・最大100文字）" maxlength="100" rows="3"
                oninput="saveCustomMessage()"></textarea>
        </div>

        <div class="card">
            <div class="copy-hint" data-i18n="tapToCopy">タップしてコピー</div>
            <div class="card">
                <div id="result-box" onclick="copyResult()" data-i18n="resultPlaceholder">計算結果がここに表示されます</div>
            </div>
        </div>

        <div id="toast" data-i18n="toastCopy">コピーしました！</div>
    </div>

    <script src="app.js"></script>

</body>

</html>
